{% extends "base.html" %}
{% block navi %}
<li><a href="/">Home</a></li>
<li>></li>
<li><a href="/variation">Variation Requests</a></li>
<li>></li>
<li>{{staff}}</li>

{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{url_for('static', filename='css/form.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/smalltable.css')}}">


<style>

table{
        width: 90%;
    }

td input{
        width:90%
    }

</style>


<div class="container" style="padding: 10px;">
<h1 style="margin-block-start: 0;">Request Variation to Contract</h1>
<h4>Date of Request: <output id="currentDate"></output> </h4>
<h3>{{ staff.school }}</h3>
<h2>{{ staff }}</h2>
<p>If Variation is outside the realm of the attrributes below, please contact Alpha Central Support <a href="mailto:example@example.com?subject=Variation%20Request&body=Dear%20Human Resource Team,%0A%0A">here</a></p>


<form method="post">
    {{ rform.hidden_tag() }}
    {{ rqform.hidden_tag() }}
<table>
<tr>
    <th></th>
    <th>Current</th>
    <th>Request</th>

</tr><tr>
    <td>{{ rform.department_id.label }}</td>
    <td>{{ staff.role.department.name }}</td>
    <td>{{ rform.department_id }}</td>
</tr><tr>
    <td>{{ rform.role.label }}</td>
    <td>{{ staff.role.role }}</td>
    <td>{{ rform.role }}</td>
</tr><tr>
    <td>{{ rform.salary.label }}</td>
    <td>{{ staff.role.salary }}</td>
    <td>{{ rform.salary }}</td>
</tr><tr>
    <td>{{ rform.pension.label }}</td>
    <td>{{ staff.role.pension }}</td>
    <td>{{ rform.pension }}</td>
</tr><tr>
    <td>{{ rform.ftpt.label }}</td>
    <td>{{ staff.role.ftpt }}</td>
    <td>{{ rform.ftpt }}</td>
</tr><tr>
    <td>{{ rform.weekhours.label }}</td>
    <td>{{ staff.role.weekhours }}</td>
    <td>{{ rform.weekhours }}</td>
</tr><tr>
    <td>{{ rform.contract.label }}</td>
    <td>{{ staff.role.contract }}</td>
    <td>{{ rform.contract }}</td>
</tr><tr>
    <td>{{ rform.holiday.label }}</td>
    <td>{{ staff.role.holiday }}</td>
    <td>{{ rform.holiday }}</td>
</tr><tr>
    <td>{{ rform.notice.label }}</td>
    <td>{{ staff.role.notice }}</td>
    <td>{{ rform.notice }}</td>
</tr>
</table>

<div class="form-group">
    {{ rqform.justification.label(class="form-control-label") }}
    {{ rqform.justification(class="form-control") }}
</div>

    {{ rqform.budgeted.label }}
    {{ rqform.budgeted }}
    <br>
    {{ rqform.effect_date.label }}
    {{ rqform.effect_date }}
    <br>
    <input type="submit" value="Submit">

</form>
</div>


<script>
    var today = new Date();
    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    var formattedDate = today.toLocaleDateString('en-GB', options);
    document.getElementById('currentDate').innerText = formattedDate;
</script>

{% endblock %}
