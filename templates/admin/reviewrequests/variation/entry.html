
{% extends "base.html" %}

{% block content %}

<link rel="stylesheet" href="{{url_for('static', filename='css/form.css')}}">
<link rel="stylesheet" href="{{url_for('static', filename='css/smalltable.css')}}">


<style>

table{
        width: 90%;
    }

td input{
        width:90%
    }

</style>
<style>
    .highlight {
        background-color: #ffe0b2  !important;  /* Pale orange color */
    }
</style>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        highlightDifferentRows();
    });

    function highlightDifferentRows() {
        // Get all rows in the table
        var rows = document.querySelectorAll('table tr');

        // Iterate through each row (skipping the header row if applicable)
        for (var i = 1; i < rows.length; i++) {
            // Get the values in column A and column B for the current row
            var valueA = rows[i].cells[1].textContent;
            var valueB = rows[i].cells[2].textContent;

            // Compare values and add the highlight class if they are different
            if (valueA !== valueB) {
                rows[i].classList.add('highlight');
            }
        }
    }
</script>





<div class="container" style="padding: 10px;">
<h1 style="margin-block-start: 0;">Request Variation to Contract</h1>
<h4>Date of Request: <output id="currentDate"></output> </h4>
<h3>{{ staff.school }}</h3>
<h2>{{ staff }}</h2>


<table>
<tr>
    <th></th>
    <th>Current</th>
    <th>Request</th>

</tr><tr>
    <td>Department</td>
    <td>{{ staff.department.name }}</td>
    <td>{{ variation.department.name }}</td>
</tr><tr>
    <td>Role title</td>
    <td>{{ staff.role }}</td>
    <td>{{ variation.role }}</td>
</tr><tr>
    <td>Salary</td>
    <td>{{ staff.salary }}</td>
    <td>{{ variation.salary }}</td>
</tr><tr>
    <td>Pension</td>
    <td>{{ staff.pension }}</td>
    <td>{{ variation.pension }}</td>
</tr><tr>
    <td>Full/Part Time</td>
    <td>{{ staff.ftpt }}</td>
    <td>{{ variation.ftpt }}</td>
</tr><tr>
    <td>Hours per week</td>
    <td>{{ staff.weekhours }}</td>
    <td>{{ variation.weekhours }}</td>
</tr><tr>
    <td>Contract</td>
    <td>{{ staff.contract }}</td>
    <td>{{ variation.contract }}</td>
</tr><tr>
    <td>Holiday</td>
    <td>{{ staff.holiday }}</td>
    <td>{{ variation.holiday }}</td>
</tr><tr>
    <td>Notice</td>
    <td>{{ staff.notice }}</td>
    <td>{{ variation.notice }}</td>
</tr>
</table>

<div class="form-group">
    <div class="form-control-label">Justification</div>
    <div class="form-control">{{ variation.justification }}</div>
</div>

    Budgeted?
    {{ variation.budgeted }}
    <br>
    Date to go into Effect
    {{ variation.effect_date }}
    <br>
</div>

<form method="post">
    <p><input type="radio" name="decision" value="Approve">Approve</p>
    <p><input type="radio" name="decision" value="Deny">Deny</p>
    <input type="submit" value="Confirm Choice">
</form>



<script>
    var today = new Date();
    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    var formattedDate = today.toLocaleDateString('en-GB', options);
    document.getElementById('currentDate').innerText = formattedDate;
</script>

{% endblock %}



